<div class="container-fluid">
    <div class="row" style="border-bottom:2px solid black;width: 100%;margin: 5px 0"></div>

    <div class="row">

        <div class="col-md-12 text-center">
            <h4><u>{{data?.sectionTitle}}</u></h4>
        </div>


        <div class="col-5">



            <div class="row">

                <div class="col-12" style="
                max-height: 500px !important;
            ">
                    <!--  -->
                    <!-- <ngx-image-zoom [zoomMode]="'hover'" [magnification]="4" [lensWidth]="300" [lensHeight]="300" [enableLens]="true" [circularLens]="true" [thumbImage]="ip+selectedImage?.url" [fullImage]="ip+selectedImage?.url"></ngx-image-zoom> -->
                    <!-- <ngx-image-zoom [zoomMode]="'hover'" [magnification]="2" [lensWidth]="250" [lensHeight]="250" [enableLens]="true" [circularLens]="true" [thumbImage]=ip+selectedImage?.url [fullImage]=ip+selectedImage?.url>
                    </ngx-image-zoom> -->

                    <label class="title" for="title">{{selectedImage?.title}}</label>
                    <img src="{{ip}}{{selectedImage?.url}}" class="img-thumbnail" style="        height: 500px;  width: 100%;  " (click)="showChildModal(selectedImage)">
                    <div class="row justify-content-center" style="word-break: break-word !important">
                    <div for="cat" class="cat" style="word-break: break-word">{{selectedImage?.shopRemarks}}</div>
                </div>
                </div>

                <div class="col-12 ml-3 mt-2">
                    <div class="row">
    
                        <ng-container *ngFor="let img of data?.imageList ;let i=index ">
                            <div class="col-2 mb-1 card  mt-5 mr-2" (click)="setSelectedImage(img)" style="padding: 0% !important;cursor:pointer" [ngClass]="{'bgColor': img?.url==selectedImage.url}">
                                <img src="{{ip}}{{img?.url}} " width="100" class="img-thumbnail side-image" style="height: 80px !important;width: 120px !important;">
                                <!-- <div class="row justify-content-center" style="word-break: break-word !important">
                                    <div for="date"><strong>Date:</strong>{{img?.visitDate}}</div>
                                    <br/>
    
                                    <div for="time"><strong>Time Spent:</strong>{{img?.time}}</div>
                                    <br/>
                                    <div for="shop" style="word-break: break-word"><strong>Remarks:</strong> {{img?.shopRemarks}}</div>
    
    
                                </div> -->
                                <!--  -->
                            </div>
                            <!-- <div class="col-md-3" style="font-size:15px !important" (click)="setSelectedImage(img)"> -->
    
    
    
                            <!-- </div> -->
    
    
    
                        </ng-container>
                    </div>
                    <!-- this.table is moved to home page -->
                    <!-- <div class="row justify-content-center">
                    <ng-container class="mt-5 justify-content-center " *ngIf="data?.tagsList ">
                        <div class="col-md-11 mt-5 ">
                            <table class="table table-bordered ">
                                <tr *ngFor="let tab of data.tagsList;let j=index ">
                                    <th style="width:50%;background: lightgray; ">{{tab.heading}}</th>
                                    <td style="width:50%;word-break: break-word ">{{tab.value}}</td>
                                </tr>
        
                            </table>
        
                        </div>
                    </ng-container>
                </div> -->
                </div>
    
    
            </div>
        </div>
    
        <div class="col-7 tableFixHead" *ngIf="products.length>0">
            <!-- <table class="table">
                <thead style="background:lightgray">
                    <tr>
                        <th>Brand Title</th>
                        <th>Product Title</th>
                        <th>Availability</th>
                        <th>MSL</th>

                    </tr>
                </thead>
            </table> -->
            <table class="table table-bordered table-hover w-100" >
                <thead style="background:lightgray">
                    <tr>
                        <!-- <th>Brand Title</th> -->
                        <th>Product Title</th>
                        <th>Availability
                        </th>
                        <th>Facing</th>

                    </tr>
                </thead>

                <tbody>
                    <tr *ngFor="let product of products;let j= index">
                         <!-- <td>{{product?.category_title}}</td> -->
                        <td style="width:600px !important">{{product?.product_title}}</td>
                        
                        
                        <!-- <td style="width:250px !important" style="cursor:pointer" [ngStyle]="{'background-color':product.color}" (click)="toggleValue(product)">
                            {{updateString(product?.available_sku)}}
                        </td> -->

                        <td style="width:300px !important" [ngClass]="{'background-color': product?.MSL=='Yes'}" >
                            {{updateString(product?.available_sku)}}
                        </td>
                    
                        <td style="width:300px !important" [ngStyle]="{'background-color':product.color}" style="cursor:pointer" (click)="showFacingChildModal(product)" >
                            {{product?.face_unit}}</td>

        

                        <!-- <td (click)="product.available_sku = (!product.available_sku)">{{toggleValue(product?.available_sku)}}</td> -->


                    </tr>
                    <tr>
                        <!-- <td></td> -->
                        <th>Availability / Total</th>
                        <td>{{availability}} / {{products.length}}</td>
                        <td>{{facing}}</td>
                    </tr>


                </tbody>
           

            </table>

        </div>
    </div>
    <div bsModal #childModal="bs-modal" [config]="{ignoreBackdropClick: true, keyboard: false, backdrop: false}" class="modal fade" tabindex="-1"
    role="dialog" aria-labelledby="dialog-child-name">
    <div class="modal-dialog ">
        <div class="modal-content">
            <div class="modal-header">
                <h4 id="dialog-child-name" class="modal-title pull-left">Edit Facing</h4>
                <i color="warn" [ngClass]="{'fa fa-cog fa-spin':loadingData}"></i>
                <button type="button" class="close pull-right" aria-label="Close" (click)="hideChildModal()">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <div class="row">

                    <div class="col-6" style="
                    max-height: 500px !important;">
                        <label class="title" for="title">{{selectedImage?.title}}</label>
                        <img src="{{ip}}{{selectedImage?.url}}" class="img-thumbnail" style="height: 300px;  width: 100%;  ">
                    </div>

                    <!-- <div class="col-12">
                        <div class="row">
        
                            <ng-container *ngFor="let img of data?.imageList ;let i=index ">
                                <div class="col-2 card" (click)="setSelectedImage(img)" style="padding: 0% !important;cursor:pointer" [ngClass]="{'bgColor': img?.url==selectedImage.url}">
                                    <img src="{{ip}}{{img?.url}} " width="50" class="img-thumbnail side-image" style="height: 50px !important;width: 20px !important;">
                                </div>
        
                            </ng-container>
                        </div>
                    </div> -->

                    <div class="col-6">
                        <mat-form-field class="example-margin example-full-width mr-10-IMP">
                            <mat-label>Facing</mat-label>
                            <input matInput [(ngModel)]="selectedFacing" placeholder="{{selectedProduct.face_unit}}">
                        </mat-form-field>
                        <h6>Change Availability Status</h6>
                        <span>Status : </span>
                        <select class="select" placeholder="Availability" name='availability' [(ngModel)]="selectedSku" >
                            <option [value]="status.value" *ngFor="let status of statusArray">{{status.title}}</option>
                        
                        </select>
                    </div>

                    </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" [disabled]="loading" (click)="toggleValue(selectedProduct)">
                    <i [ngClass]="{'fa fa-spinner fa-spin': loading}"></i>
                    Update
                </button>
            </div>
        </div>
    </div>
</div>

</div>